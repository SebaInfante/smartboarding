"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[713],{4713:(Q,f,d)=>{d.r(f),d.d(f,{EnrollModule:()=>I});var g,p=d(9808),m=d(9525),b=new Uint8Array(16);function v(){if(!g&&!(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(b)}const T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,U=function A(t){return"string"==typeof t&&T.test(t)};for(var r=[],Z=0;Z<256;++Z)r.push((Z+256).toString(16).substr(1));const y=function x(t,o,n){var a=(t=t||{}).random||(t.rng||v)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,o){n=n||0;for(var l=0;l<16;++l)o[n+l]=a[l];return o}return function C(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[t[o+0]]+r[t[o+1]]+r[t[o+2]]+r[t[o+3]]+"-"+r[t[o+4]]+r[t[o+5]]+"-"+r[t[o+6]]+r[t[o+7]]+"-"+r[t[o+8]]+r[t[o+9]]+"-"+r[t[o+10]]+r[t[o+11]]+r[t[o+12]]+r[t[o+13]]+r[t[o+14]]+r[t[o+15]]).toLowerCase();if(!U(n))throw TypeError("Stringified UUID is invalid");return n}(a)};var e=d(4893),h=d(1557),_=d(1319),s=d(2382);function q(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1," cargar docs "),e.qZA())}function E(t,o){if(1&t&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function P(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",7)(1,"label",30),e._uU(2,"Empresa"),e.qZA(),e.TgZ(3,"select",31),e.NdJ("ngModelChange",function(l){return e.CHM(n),e.oxw().trabajador.empresa=l}),e.YNc(4,E,2,2,"option",32),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.trabajador.empresa),e.xp6(1),e.Q6J("ngForOf",n.employees)}}let O=(()=>{class t{constructor(n){this.mainService=n,this.isADM=!1,this.isUSM=!1,this.trabajador={id:y(),nombre:"",rut:"",avatar:"",turno:"",ocupacion:"",empresa:"",documentos:{doc1:"url"}},this.seleccionarAvatar=a=>{a?this.avatar=a.target.files[0]:console.log("Archivo no encontrado")}}ngOnInit(){"ADM"===sessionStorage.getItem("role")&&(this.mainService.getEmpleadosXadmin().subscribe(n=>{this.employees=n}),this.isADM=!0),"USM"===sessionStorage.getItem("role")&&(this.mainService.getEmpleadosXmandante().subscribe(n=>{this.employees=n}),this.isUSM=!0)}subirArchivo(){this.avatar?this.mainService.upFile(this.avatar,this.trabajador.id):console.log("Archivo no encontrado")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-enroll-page"]],decls:59,vars:7,consts:[[1,"container","my-3"],[1,"mx-5"],[1,"row"],[1,"col-12","col-md-6"],[1,"mb-5"],["for","nombre"],["type","text","id","nombre","name","nombre",1,"input-text","w-100",3,"ngModel","ngModelChange"],[1,"my-5"],["for","rut"],["type","text","id","rut","name","rut",1,"input-text","w-100",3,"ngModel","ngModelChange"],["for","avatar"],[1,"input-group"],["type","file","id","avatar","aria-describedby","inputGroupFileAddon04","aria-label","Upload","name","avatar",1,"form-control","file-update",3,"ngModel","change","ngModelChange"],["type","button","id","inputGroupFileAddon04",1,"btn","btn-secondary",3,"click"],["for","turno"],["aria-label","Default select example","id","turno","name","turno",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],["value","1"],["value","2"],["value","3"],["aria-label","Default select example","id","ocupacion","name","ocupacion",1,"form-select",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","my-5",4,"ngIf"],[1,"col-12","col-md-6","px-5"],["src","https://us.123rf.com/450wm/pavelstasevich/pavelstasevich1811/pavelstasevich181101028/112815904-no-hay-icono-de-imagen-disponible-ilustraci%C3%B3n-vectorial-plana.jpg",1,"rounded-circle","shadow","w-100","mb-5"],[1,"d-flex","align-items-center","flex-column"],[1,"btn","btn-primary","w-100","m-0","mb-3"],[1,"btn","btn-cancel","w-50","m-0"],[1,"button-fab"],[1,"fa-solid","fa-question"],["for","empresa"],["aria-label","Default select example","id","empresa","name","empresa",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,a){1&n&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"form")(3,"h3",1),e._uU(4,"Formulario de enrolamiento"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"label",5),e._uU(10,"Nombre"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(i){return a.trabajador.nombre=i}),e.qZA()(),e.TgZ(12,"div",7)(13,"label",8),e._uU(14,"Rut"),e.qZA(),e.TgZ(15,"input",9),e.NdJ("ngModelChange",function(i){return a.trabajador.rut=i}),e.qZA()(),e.TgZ(16,"div",7)(17,"label",10),e._uU(18,"Foto"),e.qZA(),e.TgZ(19,"div",11)(20,"input",12),e.NdJ("change",function(i){return a.seleccionarAvatar(i)})("ngModelChange",function(i){return a.trabajador.avatar=i}),e.qZA(),e.TgZ(21,"button",13),e.NdJ("click",function(){return a.subirArchivo()}),e._uU(22,"Subir"),e.qZA()()(),e.TgZ(23,"div",7)(24,"label",14),e._uU(25,"Turno"),e.qZA(),e.TgZ(26,"select",15),e.NdJ("ngModelChange",function(i){return a.trabajador.turno=i}),e.TgZ(27,"option",16),e._uU(28,"Todos"),e.qZA(),e.TgZ(29,"option",17),e._uU(30,"One"),e.qZA(),e.TgZ(31,"option",18),e._uU(32,"Two"),e.qZA(),e.TgZ(33,"option",19),e._uU(34,"Three"),e.qZA()()(),e.TgZ(35,"div",7)(36,"label",14),e._uU(37,"Ocupaci\xf3n"),e.qZA(),e.TgZ(38,"select",20),e.NdJ("ngModelChange",function(i){return a.trabajador.ocupacion=i}),e.TgZ(39,"option",16),e._uU(40,"Todos"),e.qZA(),e.TgZ(41,"option",17),e._uU(42,"One"),e.qZA(),e.TgZ(43,"option",18),e._uU(44,"Two"),e.qZA(),e.TgZ(45,"option",19),e._uU(46,"Three"),e.qZA()()(),e.YNc(47,q,2,0,"div",21),e.YNc(48,P,5,2,"div",22),e.qZA(),e.TgZ(49,"div",23),e._UZ(50,"img",24),e.qZA()(),e.TgZ(51,"div",25)(52,"button",26),e._uU(53,"Enrolar"),e.qZA(),e.TgZ(54,"button",27),e._uU(55,"Cancelar"),e.qZA()()()(),e.TgZ(56,"div",28)(57,"button"),e._UZ(58,"i",29),e.qZA()()),2&n&&(e.xp6(11),e.Q6J("ngModel",a.trabajador.nombre),e.xp6(4),e.Q6J("ngModel",a.trabajador.rut),e.xp6(5),e.Q6J("ngModel",a.trabajador.avatar),e.xp6(6),e.Q6J("ngModel",a.trabajador.turno),e.xp6(12),e.Q6J("ngModel",a.trabajador.ocupacion),e.xp6(9),e.Q6J("ngIf","1"==a.trabajador.ocupacion),e.xp6(1),e.Q6J("ngIf",a.isADM||a.isUSM))},directives:[_.S,s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,s.EJ,s.YN,s.Kr,p.O5,p.sg],styles:["input[_ngcontent-%COMP%]{height:38px}.file-update[_ngcontent-%COMP%]{height:38px;box-shadow:0 4px 4px #00385e6e;margin-right:10px}.btn-secondary[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00385e6e;margin:0 0 0 10px;height:38px}"]}),t})();var S=d(3745),c=d(7322),u=d(6856);let w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-filter-modal"]],decls:59,vars:2,consts:[["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"d-flex","flex-column","mb-2"],["for","busqueda"],[1,"d-flex"],["id","busqueda","type","text","placeholder","Ingresa el termino de busqueda",1,"input-text","w-100","mr-2"],[2,"width","10px"],[1,"btn","btn-secondary","py-0","m-0","px-2","ml-3"],["for","turno"],["aria-label","Default select example","id","turno",1,"form-select"],["selected",""],["value","1"],["value","2"],["value","3"],["for","empresa"],["aria-label","Default select example","id","empresa",1,"form-select"],["for",""],["appearance","fill",1,"w-100"],[3,"rangePicker"],["matStartDate","","placeholder","Start date"],["matEndDate","","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"]],template:function(n,a){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Filtros"),e.qZA(),e._UZ(6,"button",5),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Busca por nombre o por rut"),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"input",10)(13,"span",11),e.TgZ(14,"button",12),e._uU(15,"Buscar"),e.qZA()()(),e._UZ(16,"hr"),e.TgZ(17,"label",13),e._uU(18,"Turno"),e.qZA(),e.TgZ(19,"select",14)(20,"option",15),e._uU(21,"Todos"),e.qZA(),e.TgZ(22,"option",16),e._uU(23,"One"),e.qZA(),e.TgZ(24,"option",17),e._uU(25,"Two"),e.qZA(),e.TgZ(26,"option",18),e._uU(27,"Three"),e.qZA()(),e._UZ(28,"hr"),e.TgZ(29,"label",19),e._uU(30,"Empresas"),e.qZA(),e.TgZ(31,"select",20)(32,"option",15),e._uU(33,"Todas"),e.qZA(),e.TgZ(34,"option",16),e._uU(35,"One"),e.qZA(),e.TgZ(36,"option",17),e._uU(37,"Two"),e.qZA(),e.TgZ(38,"option",18),e._uU(39,"Three"),e.qZA()(),e._UZ(40,"hr"),e.TgZ(41,"label",21),e._uU(42,"Registros por fecha"),e.qZA(),e.TgZ(43,"mat-form-field",22)(44,"mat-label"),e._uU(45,"Ingresa el rango de fecha"),e.qZA(),e.TgZ(46,"mat-date-range-input",23),e._UZ(47,"input",24)(48,"input",25),e.qZA(),e.TgZ(49,"mat-hint"),e._uU(50,"DD/MM/YYYY \u2013 DD/MM/YYYY"),e.qZA(),e._UZ(51,"mat-datepicker-toggle",26)(52,"mat-date-range-picker",null,27),e.qZA()(),e.TgZ(54,"div",28)(55,"button",29),e._uU(56,"Cerrar"),e.qZA(),e.TgZ(57,"button",30),e._uU(58,"Filtrar"),e.qZA()()()()()),2&n){const l=e.MAs(53);e.xp6(46),e.Q6J("rangePicker",l),e.xp6(5),e.Q6J("for",l)}},directives:[s.YN,s.Kr,c.KE,c.hX,u.wx,u.zY,u.By,c.bx,u.nW,c.R9,u._g],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:-1!important;width:100vw;height:100vh;background-color:#f10404}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:99999999999!important}.modal-dialog[_ngcontent-%COMP%], #exampleModal[_ngcontent-%COMP%]{z-index:900}[_ngcontent-%COMP%]::placeholder{color:gray!important;font-weight:300;font-size:.8rem}"]}),t})();const F=function(t){return["../enrolled",t]};function J(t,o){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",8),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td")(17,"div",9),e._UZ(18,"i",10)(19,"i",11)(20,"i",12),e.qZA()()()),2&t){const n=o.$implicit;e.xp6(2),e.MGl("src","http://173.249.58.215:9000",n.resource_url,"",e.LSH),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.id_card),e.xp6(2),e.Oqu(n.turno),e.xp6(2),e.Oqu(n.ocupacion),e.xp6(2),e.Oqu(n.empresa),e.xp6(2),e.Oqu(e.xi3(15,8,n.create_time,"medium")),e.xp6(5),e.Q6J("routerLink",e.VKq(11,F,n.id))}}const j=function(){return[5,10,25,100]},z=[{path:"",component:O},{path:"enrolled",component:(()=>{class t{constructor(n){this.mainService=n,this.pageSize=10,this.start=0,this.end=10,this.items=[],this.mainService.getEmployee().subscribe(a=>{this.items=a})}ngOnInit(){}cambiarPagina(n){this.start=n.pageIndex*n.pageSize,this.end=this.start+n.pageSize}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.J))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-enrolled-page"]],decls:32,vars:9,consts:[[1,"container","my-3"],[1,"d-flex","align-items-end","justify-content-between"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],[1,"table","table-hover","p-3"],[1,""],["scope","col"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],["alt","",1,"table-avatar",3,"src"],[1,"d-flex","justify-content-evenly"],[1,"fa-regular","fa-pen-to-square"],[1,"fa-regular","fa-address-card",3,"routerLink"],[1,"fa-regular","fa-trash-can"]],template:function(n,a){1&n&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"h2"),e._uU(4,"Lista de enrolados"),e.qZA(),e.TgZ(5,"button",2),e._uU(6,"Filtrar"),e.qZA()(),e._UZ(7,"hr"),e.TgZ(8,"table",3)(9,"thead",4)(10,"tr")(11,"th",5),e._uU(12,"Avatar"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"Rut"),e.qZA(),e.TgZ(17,"th",5),e._uU(18,"Turno"),e.qZA(),e.TgZ(19,"th",5),e._uU(20,"Ocupaci\xf3n"),e.qZA(),e.TgZ(21,"th",5),e._uU(22,"Empresa"),e.qZA(),e.TgZ(23,"th",5),e._uU(24,"Creaci\xf3n"),e.qZA(),e.TgZ(25,"th",5),e._uU(26,"Opciones"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,J,21,13,"tr",6),e.ALo(29,"slice"),e.qZA()(),e.TgZ(30,"mat-paginator",7),e.NdJ("page",function(i){return a.cambiarPagina(i)}),e.qZA()(),e._UZ(31,"app-filter-modal")),2&n&&(e.xp6(28),e.Q6J("ngForOf",e.Dn7(29,4,a.items,a.start,a.end)),e.xp6(2),e.Q6J("length",a.items.length)("pageSize",a.pageSize)("pageSizeOptions",e.DdM(8,j)))},directives:[_.S,p.sg,m.rH,S.NW,w],pipes:[p.OU,p.uU],styles:[".container[_ngcontent-%COMP%]{overflow-x:auto}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:left}.modal-backdrop[_ngcontent-%COMP%]{z-index:0!important}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:99999999999!important}"]}),t})()},{path:"enrolled/:id",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-enrolled-page"]],decls:2,vars:0,template:function(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"user-enrolled-page works!"),e.qZA())},styles:[""]}),t})()},{path:"**",redirectTo:"enroll"}];let D=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(z)],m.Bz]}),t})();var Y=d(4466),N=d(7939);let I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.ez,D,Y.m,N.s,s.u5]]}),t})()}}]);