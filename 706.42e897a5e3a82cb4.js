"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[706],{4706:(Y,u,i)=>{i.r(u),i.d(u,{AdminModule:()=>w});var l=i(9808),m=i(9525),e=i(4893),p=i(1319),n=i(2382);function g(o,r){1&o&&(e.TgZ(0,"span",23),e._UZ(1,"i",24),e._uU(2," Debe seleccionar un cliente "),e.qZA())}function f(o,r){1&o&&(e.TgZ(0,"span",23),e._UZ(1,"i",24),e._uU(2," Debe seleccionar una empresa "),e.qZA())}function Z(o,r){1&o&&(e.TgZ(0,"span",23),e._UZ(1,"i",24),e._uU(2," Debe de ser mayor a 6 letras "),e.qZA())}function _(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e._UZ(1,"hr"),e.TgZ(2,"div",3),e._UZ(3,"input",27),e.qZA(),e.TgZ(4,"div",17)(5,"button",28),e.NdJ("click",function(){const c=e.CHM(t).index;return e.oxw(2).deleteDocument(c)}),e._uU(6,"Eliminar"),e.qZA()()()}if(2&o){const t=r.index;e.xp6(3),e.Q6J("formControlName",t)}}function A(o,r){if(1&o&&(e.TgZ(0,"div",25)(1,"h5"),e._uU(2,"Documentos Agregados"),e.qZA(),e.YNc(3,_,7,1,"div",26),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.documentsArr.controls)}}let b=(()=>{class o{constructor(t){this.fb=t,this.miFormulario=this.fb.group({client:[,[n.kI.required]],contractor:[,[n.kI.required]],employment:[,[n.kI.required,n.kI.minLength(6)]],documents:this.fb.array([])}),this.newDocument=this.fb.control("",n.kI.required)}get documentsArr(){return this.miFormulario.get("documents")}ngOnInit(){}campoEsValido(t){return this.miFormulario.controls[t].errors&&this.miFormulario.controls[t].touched}addDocument(){this.newDocument.invalid||(this.documentsArr.push(this.fb.control(this.newDocument.value,n.kI.required)),this.newDocument.reset())}deleteDocument(t){this.documentsArr.removeAt(t)}guardar(){if(this.miFormulario.invalid)return void this.miFormulario.markAllAsTouched();console.log(this.miFormulario.value);let t=this.documentsArr.length;do{this.documentsArr.removeAt(t),t--}while(this.documentsArr.length>0);this.miFormulario.reset()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-employment"]],decls:51,vars:6,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","justify-content-end"],["for","client",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["formControlName","client","aria-label","Default select example","id","client",1,"form-select"],["selected",""],["value","1"],["value","2"],["value","3"],["class","form-text",4,"ngIf"],["for","contractor",1,"col-sm-3","col-form-label"],["formControlName","contractor","aria-label","Default select example","id","contractor",1,"form-select"],["for","employment",1,"col-sm-3","col-form-label"],["id","employment","type","text","formControlName","employment","placeholder","Ingrese la ocupaci\xf3n",1,"form-control"],["for","docs",1,"col-sm-3","col-form-label"],[1,"row","p-0","align-items-start"],["type","text","placeholder","Ingrese el nombre del documento",1,"form-control","mb-2",3,"formControl","keyup.enter"],[1,"col-sm-3"],["type","button",1,"btn","btn-secondary","w-100","m-0",3,"click"],["class","col-sm-9","formArrayName","documents",4,"ngIf"],[1,"d-flex","align-items-center","flex-column"],["type","submit",1,"btn","btn-primary","w-100","mx-0"],["type","button",1,"btn","btn-secondary","w-50","mx-0"],[1,"form-text"],[1,"fa-solid","fa-circle-exclamation"],["formArrayName","documents",1,"col-sm-9"],["class","row p-0 align-items-start",4,"ngFor","ngForOf"],["readonly","","type","text",1,"form-control","mb-2",3,"formControlName"],["type","button",1,"btn","btn-cancel","w-100",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"h4"),e._uU(1,"Crear nueva ocupaci\xf3n"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"form",0),e.NdJ("ngSubmit",function(){return a.guardar()}),e.TgZ(4,"div",1)(5,"label",2),e._uU(6,"Cliente"),e.qZA(),e.TgZ(7,"div",3)(8,"select",4)(9,"option",5),e._uU(10,"Selecciona un Cliente"),e.qZA(),e.TgZ(11,"option",6),e._uU(12,"SONY"),e.qZA(),e.TgZ(13,"option",7),e._uU(14,"HP"),e.qZA(),e.TgZ(15,"option",8),e._uU(16,"AOC"),e.qZA()(),e.YNc(17,g,3,0,"span",9),e.qZA(),e.TgZ(18,"label",10),e._uU(19,"Contratista"),e.qZA(),e.TgZ(20,"div",3)(21,"select",11)(22,"option",5),e._uU(23,"Selecciona una empresa"),e.qZA(),e.TgZ(24,"option",6),e._uU(25,"Empresa 1"),e.qZA(),e.TgZ(26,"option",7),e._uU(27,"Empresa 2"),e.qZA(),e.TgZ(28,"option",8),e._uU(29,"Empresa 3"),e.qZA()(),e.YNc(30,f,3,0,"span",9),e.qZA(),e.TgZ(31,"label",12),e._uU(32,"Ocupaci\xf3n"),e.qZA(),e.TgZ(33,"div",3),e._UZ(34,"input",13),e.YNc(35,Z,3,0,"span",9),e.qZA(),e.TgZ(36,"label",14),e._uU(37,"Documentos"),e.qZA(),e.TgZ(38,"div",3)(39,"div",15)(40,"div",3)(41,"input",16),e.NdJ("keyup.enter",function(){return a.addDocument()}),e.qZA()(),e.TgZ(42,"div",17)(43,"button",18),e.NdJ("click",function(){return a.addDocument()}),e._uU(44,"Agregar"),e.qZA()()()(),e.YNc(45,A,4,1,"div",19),e.qZA(),e.TgZ(46,"div",20)(47,"button",21),e._uU(48,"Guardar"),e.qZA(),e.TgZ(49,"button",22),e._uU(50,"Limpiar"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",a.miFormulario),e.xp6(14),e.Q6J("ngIf",a.campoEsValido("client")),e.xp6(13),e.Q6J("ngIf",a.campoEsValido("contractor")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("employment")),e.xp6(6),e.Q6J("formControl",a.newDocument),e.xp6(4),e.Q6J("ngIf",0!=a.documentsArr.length))},directives:[n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,l.O5,n.Fj,n.oH,n.CE,l.sg],styles:["input[_ngcontent-%COMP%], label[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{color:#00395e!important}i[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#d47077}label[_ngcontent-%COMP%]{font-size:14px}.col-sm-9[_ngcontent-%COMP%]{margin-bottom:.5em}[_ngcontent-%COMP%]::placeholder{color:#127bc185!important}.btn-cancel[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:0;margin:0;height:38px}"]}),o})();var d=i(1557),h=i(7261);function U(o,r){1&o&&(e.TgZ(0,"span",20),e._UZ(1,"i",21),e._uU(2," Debe de ser mayor a 3 letras "),e.qZA())}function T(o,r){1&o&&(e.TgZ(0,"span",20),e._UZ(1,"i",21),e._uU(2," Debe de ser un correo v\xe1lido "),e.qZA())}function C(o,r){1&o&&(e.TgZ(0,"span",20),e._UZ(1,"i",21),e._uU(2," Debe de ser una contrase\xf1a mayor a 6 letras "),e.qZA())}function v(o,r){1&o&&(e.TgZ(0,"span",20),e._UZ(1,"i",21),e._uU(2," Debe seleccionar un rol "),e.qZA())}function q(o,r){if(1&o&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function y(o,r){1&o&&(e.TgZ(0,"span",20),e._UZ(1,"i",21),e._uU(2," Debe seleccionar una empresa "),e.qZA())}function x(o,r){if(1&o&&(e.TgZ(0,"div",22)(1,"label",23),e._uU(2,"Mandante"),e.qZA(),e.TgZ(3,"div",3)(4,"select",24),e.YNc(5,q,2,2,"option",25),e.qZA(),e.YNc(6,y,3,0,"span",5),e.qZA()()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.mandantes),e.xp6(1),e.Q6J("ngIf",t.campoEsValido("employee"))}}let O=(()=>{class o{constructor(t,a,s){this.fb=t,this.mainService=a,this.snackBar=s,this.loading=!1,this.miFormulario=this.fb.group({name:[,[n.kI.required,n.kI.minLength(3)]],email:[,[n.kI.required,n.kI.minLength(6),n.kI.email]],password:[,[n.kI.required,n.kI.minLength(6)]],role:[,[n.kI.required]],employee:[,]})}ngOnInit(){this.mainService.getMandantes().subscribe(t=>{this.mandantes=t},t=>{console.log("err",t)})}campoEsValido(t){return this.miFormulario.controls[t].errors&&this.miFormulario.controls[t].touched}guardar(){this.miFormulario.invalid?this.miFormulario.markAllAsTouched():(this.loading=!0,this.loading=!1,this.mainService.addUser(this.miFormulario.value).subscribe(t=>{this.mostrarSnackbar("Usuario creado correctamente","successSnackbar"),this.loading=!1},t=>{console.log(t.error.msg),this.mostrarSnackbar(t.error.msg,"errorSnackbar"),this.loading=!1}),this.miFormulario.reset())}mostrarSnackbar(t,a){this.snackBar.open(t,"Cerrar",{duration:3e3,panelClass:a})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.qu),e.Y36(d.J),e.Y36(h.ux))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-users"]],decls:39,vars:6,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3","row"],["for","name",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["id","name","type","text","formControlName","name","placeholder","Ingrese el nombre",1,"form-control"],["class","form-text",4,"ngIf"],["for","email",1,"col-sm-3","col-form-label"],["id","email","type","email","formControlName","email","placeholder","Ingrese el correo",1,"form-control"],["for","password",1,"col-sm-3","col-form-label"],["id","password","type","password","formControlName","password","placeholder","Ingrese el password",1,"form-control"],["for","role",1,"col-sm-3","col-form-label"],["formControlName","role","aria-label","Default select example","id","role",1,"form-select"],["selected",""],["value","ADM"],["value","USM"],["value","USC"],["class","row m-0 p-0",4,"ngIf"],[1,"d-flex","align-items-center","flex-column"],["type","submit",1,"btn","btn-primary","w-100"],["type","button",1,"btn","btn-secondary","w-50",3,"click"],[1,"form-text"],[1,"fa-solid","fa-circle-exclamation"],[1,"row","m-0","p-0"],["for","employee",1,"col-sm-3","col-form-label"],["formControlName","employee","aria-label","Default select example","id","employee",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,a){1&t&&(e.TgZ(0,"h4"),e._uU(1,"Crear nuevo usuario"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"form",0),e.NdJ("ngSubmit",function(){return a.guardar()}),e.TgZ(4,"div",1)(5,"label",2),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"div",3),e._UZ(8,"input",4),e.YNc(9,U,3,0,"span",5),e.qZA(),e.TgZ(10,"label",6),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"div",3),e._UZ(13,"input",7),e.YNc(14,T,3,0,"span",5),e.qZA(),e.TgZ(15,"label",8),e._uU(16,"Contrase\xf1a"),e.qZA(),e.TgZ(17,"div",3),e._UZ(18,"input",9),e.YNc(19,C,3,0,"span",5),e.qZA(),e.TgZ(20,"label",10),e._uU(21,"Rol"),e.qZA(),e.TgZ(22,"div",3)(23,"select",11)(24,"option",12),e._uU(25,"Selecciona un Rol"),e.qZA(),e.TgZ(26,"option",13),e._uU(27,"ADM"),e.qZA(),e.TgZ(28,"option",14),e._uU(29,"USM"),e.qZA(),e.TgZ(30,"option",15),e._uU(31,"USC"),e.qZA()(),e.YNc(32,v,3,0,"span",5),e.qZA(),e.YNc(33,x,7,2,"div",16),e.qZA(),e.TgZ(34,"div",17)(35,"button",18),e._uU(36,"Agregar"),e.qZA(),e.TgZ(37,"button",19),e.NdJ("click",function(){return a.miFormulario.reset()}),e._uU(38,"Limpiar"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",a.miFormulario),e.xp6(6),e.Q6J("ngIf",a.campoEsValido("name")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("email")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("password")),e.xp6(13),e.Q6J("ngIf",a.campoEsValido("role")),e.xp6(1),e.Q6J("ngIf","USC"==a.miFormulario.value.role))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,l.O5,n.EJ,n.YN,n.Kr,l.sg],styles:["input[_ngcontent-%COMP%], label[_ngcontent-%COMP%], select[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{color:#00395e!important}i[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#d47077}label[_ngcontent-%COMP%]{font-size:14px}.col-sm-9[_ngcontent-%COMP%]{margin-bottom:.5em}.btn-cancel[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:0;margin:0;height:38px}[_ngcontent-%COMP%]::placeholder{color:#127bc185!important}"]}),o})(),F=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-config-page"]],decls:13,vars:0,consts:[[1,"container","my-5"],[1,"d-flex","justify-content-between"],["routerLink","../dashboard",1,"btn","btn-primary"],[1,"row"],[1,"col-12","col-md-8"],[1,"col-12","col-md-4"]],template:function(t,a){1&t&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"h1"),e._uU(4,"Configuraciones"),e.qZA(),e.TgZ(5,"button",2),e._uU(6,"volver"),e.qZA()(),e._UZ(7,"hr"),e.TgZ(8,"div",3)(9,"div",4),e._UZ(10,"app-add-employment"),e.qZA(),e.TgZ(11,"div",5),e._UZ(12,"app-add-users"),e.qZA()()())},directives:[p.S,m.rH,b,O],styles:[""]}),o})();var I=i(3745);const M=function(o){return["../enrolled",o]};function J(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td")(15,"div",8),e._UZ(16,"i",9)(17,"i",10)(18,"i",11),e.qZA()()()),2&o){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.role),e.xp6(2),e.Oqu(t.employee),e.xp6(2),e.Oqu(e.xi3(13,7,t.createdAt,"medium")),e.xp6(5),e.Q6J("routerLink",e.VKq(10,M,t.id))}}const N=function(){return[5,10,25,100]};let S=(()=>{class o{constructor(t){this.mainService=t,this.pageSize=10,this.start=0,this.end=10,this.items=[],this.mainService.getUsers().subscribe(a=>{this.items=a})}ngOnInit(){}cambiarPagina(t){this.start=t.pageIndex*t.pageSize,this.end=this.start+t.pageSize}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.J))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-table-users"]],decls:28,vars:9,consts:[[1,"container","my-3"],[1,"d-flex","align-items-end","justify-content-between"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],[1,"table","table-hover","p-3"],[1,""],["scope","col"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],[1,"d-flex","justify-content-evenly"],[1,"fa-regular","fa-pen-to-square"],[1,"fa-regular","fa-address-card",3,"routerLink"],[1,"fa-regular","fa-trash-can"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Lista de Usuarios"),e.qZA(),e.TgZ(4,"button",2),e._uU(5,"Filtrar"),e.qZA()(),e._UZ(6,"hr"),e.TgZ(7,"table",3)(8,"thead",4)(9,"tr")(10,"th",5),e._uU(11,"Id"),e.qZA(),e.TgZ(12,"th",5),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th",5),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"th",5),e._uU(17,"Rol"),e.qZA(),e.TgZ(18,"th",5),e._uU(19,"Mandante"),e.qZA(),e.TgZ(20,"th",5),e._uU(21,"Creaci\xf3n"),e.qZA(),e.TgZ(22,"th",5),e._uU(23,"Opciones"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,J,19,12,"tr",6),e.ALo(26,"slice"),e.qZA()(),e.TgZ(27,"mat-paginator",7),e.NdJ("page",function(c){return a.cambiarPagina(c)}),e.qZA()()),2&t&&(e.xp6(25),e.Q6J("ngForOf",e.Dn7(26,4,a.items,a.start,a.end)),e.xp6(2),e.Q6J("length",a.items.length)("pageSize",a.pageSize)("pageSizeOptions",e.DdM(8,N)))},directives:[l.sg,m.rH,I.NW],pipes:[l.OU,l.uU],styles:[""]}),o})();const D=[{path:"",children:[{path:"dashboard",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard-page"]],decls:9,vars:0,consts:[[1,"container","my-5"],[1,"d-flex","justify-content-between"],["routerLink","../config",1,"btn","btn-primary"]],template:function(t,a){1&t&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"h1"),e._uU(4,"Dashboard"),e.qZA(),e.TgZ(5,"button",2),e._uU(6,"ir a configuraciones"),e.qZA()(),e._UZ(7,"hr")(8,"app-table-users"),e.qZA())},directives:[p.S,m.rH,S],styles:[""]}),o})()},{path:"config",component:F},{path:"**",redirectTo:"dashboard"}]}];let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(D)],m.Bz]}),o})();var P=i(4466),k=i(7939);let w=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.ez,E,P.m,k.s,n.UX]]}),o})()}}]);