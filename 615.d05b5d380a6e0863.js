"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[615],{7615:(y,g,a)=>{a.r(g),a.d(g,{LoginModule:()=>M});var c=a(9808),s=a(9525),t=a(2382),n=a(4893),d=a(5426),m=a(7261),f=a(773);function u(o,r){1&o&&(n.TgZ(0,"span",20),n._UZ(1,"i",21),n._uU(2," Debe de ser un correo valido "),n.qZA())}function p(o,r){1&o&&n._UZ(0,"i",22)}function h(o,r){1&o&&n._UZ(0,"i",23)}function x(o,r){1&o&&(n.TgZ(0,"span",20),n._UZ(1,"i",21),n._uU(2," Debe de ser una contrase\xf1a mayor a 6 letras "),n.qZA())}function C(o,r){1&o&&(n.TgZ(0,"div",24)(1,"div",25),n._UZ(2,"mat-spinner"),n.qZA(),n.TgZ(3,"span"),n._uU(4,"Cargando ..."),n.qZA()())}const P=[{path:"",component:(()=>{class o{constructor(e,i,l,Z){this.fb=e,this.authService=i,this.snackBar=l,this.router=Z,this.togglePassword=!1,this.loading=!1,this.loginForm=this.fb.group({email:[,[t.kI.required,t.kI.minLength(6),t.kI.email]],password:[,[t.kI.required,t.kI.minLength(6)]]})}ngOnInit(){}campoEsValido(e){return this.loginForm.controls[e].errors&&this.loginForm.controls[e].touched}login(){this.loginForm.invalid?this.loginForm.markAllAsTouched():(this.loading=!0,this.authService.login(this.loginForm.value).subscribe(e=>{sessionStorage.setItem("token",e.token),sessionStorage.setItem("name",e.user.name),this.authService.verificaAutenticacion(),this.loading=!1,"ADM"===e.user.role&&this.router.navigateByUrl("admin"),("USM"===e.user.role||"USC"===e.user.role)&&this.router.navigateByUrl("enroll")},e=>{console.log(e.error.msg),this.mostrarSnackbar("Usuario o contrase\xf1a no son correctas"),this.loading=!1}),this.loginForm.reset())}mostrarSnackbar(e){this.snackBar.open(e,"Cerrar",{duration:3e3,panelClass:"errorSnackbar"})}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(t.qu),n.Y36(d.e),n.Y36(m.ux),n.Y36(s.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login-page"]],decls:24,vars:7,consts:[[1,"login-container","d-flex","justify-content-center","bg"],[1,"contenedor-form","m-auto"],["autocomplete","off",1,"contenedor",3,"formGroup","ngSubmit"],["src","../../../assets/smartboarding-logo.png"],[1,"w-100","p-3"],[1,"contenedor-input","mt-5"],["id","email","type","email","formControlName","email","placeholder","Correo",1,"form-control","input-text","mt-3","w-100"],["class","form-text",4,"ngIf"],[1,"d-flex","align-items-end"],["id","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control","input-text","mt-3","w-100",3,"type"],[1,"toggle-password",3,"click"],["class","fa-solid fa-eye-slash mx-1",4,"ngIf"],["class","fa-solid fa-eye mx-1",4,"ngIf"],[1,"input-checkbox","mt-2"],["type","checkbox","name","recuerdame","id",""],["for","recuerdame"],["type","submit",1,"btn","btn-primary","w-100","mx-0","my-3"],[1,"w-100","text-center"],["routerLink","../recovery-account"],["class","d-flex flex-column align-items-center loading",4,"ngIf"],[1,"form-text"],[1,"fa-solid","fa-circle-exclamation"],[1,"fa-solid","fa-eye-slash","mx-1"],[1,"fa-solid","fa-eye","mx-1"],[1,"d-flex","flex-column","align-items-center","loading"],[1,"contenedor-loading"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"form",2),n.NdJ("ngSubmit",function(){return i.login()}),n._UZ(3,"img",3),n.TgZ(4,"div",4)(5,"div",5),n._UZ(6,"input",6),n.YNc(7,u,3,0,"span",7),n.TgZ(8,"div",8),n._UZ(9,"input",9),n.TgZ(10,"button",10),n.NdJ("click",function(){return i.togglePassword=!i.togglePassword}),n.YNc(11,p,1,0,"i",11),n.YNc(12,h,1,0,"i",12),n.qZA()(),n.YNc(13,x,3,0,"span",7),n.qZA(),n.TgZ(14,"div",13),n._UZ(15,"input",14),n.TgZ(16,"label",15),n._uU(17,"Recordar Cuenta"),n.qZA()(),n.TgZ(18,"button",16),n._uU(19,"Ingresar"),n.qZA(),n.TgZ(20,"div",17)(21,"a",18),n._uU(22,"Recuperar contrase\xf1a"),n.qZA()()()(),n.YNc(23,C,5,0,"div",19),n.qZA()()),2&e&&(n.xp6(2),n.Q6J("formGroup",i.loginForm),n.xp6(5),n.Q6J("ngIf",i.campoEsValido("email")),n.xp6(2),n.Q6J("type",i.togglePassword?"text":"password"),n.xp6(2),n.Q6J("ngIf",i.togglePassword),n.xp6(1),n.Q6J("ngIf",!i.togglePassword),n.xp6(1),n.Q6J("ngIf",i.campoEsValido("password")),n.xp6(10),n.Q6J("ngIf",i.loading))},directives:[t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u,c.O5,s.yS,f.Ou],styles:[".login-container[_ngcontent-%COMP%]{width:100vw;height:100vh}.contenedor[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.3);border-radius:20px;margin:auto;min-width:320px;height:500px;width:20vw;padding:40px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}img[_ngcontent-%COMP%]{width:90%}.contenedor-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.contenedor-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.input-text[_ngcontent-%COMP%]{background:transparent;box-shadow:none;border-radius:0;border-bottom:2px #fff solid;width:100%}.input-checkbox[_ngcontent-%COMP%]{width:100%}.input-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:10px;color:#fff}a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline;font-weight:300;font-size:.9em}input[_ngcontent-%COMP%]{color:#fff!important}span[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{color:#d47077}.loading[_ngcontent-%COMP%]{margin-top:10px}.loading[_ngcontent-%COMP%]   .contenedor-loading[_ngcontent-%COMP%]{border-radius:50%;background-color:#ffffff4b}.loading[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{transform:scale(.8);stroke:#fff!important}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.toggle-password[_ngcontent-%COMP%]{background-color:transparent;border:none}.toggle-password[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[s.Bz.forChild(P)],s.Bz]}),o})();var v=a(7939);let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[c.ez,b,s.Bz,t.UX,v.s]]}),o})()}}]);