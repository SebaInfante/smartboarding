"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[615],{7615:(y,g,a)=>{a.r(g),a.d(g,{LoginModule:()=>M});var c=a(9808),s=a(9525),e=a(2382),n=a(4893),d=a(5426),m=a(7261),f=a(773);function u(o,r){1&o&&(n.TgZ(0,"span",17),n._UZ(1,"i",18),n._uU(2," Debe de ser un correo valido "),n.qZA())}function p(o,r){1&o&&n._UZ(0,"i",19)}function h(o,r){1&o&&n._UZ(0,"i",20)}function x(o,r){1&o&&(n.TgZ(0,"span",17),n._UZ(1,"i",18),n._uU(2," Debe de ser una contrase\xf1a mayor a 6 letras "),n.qZA())}function C(o,r){1&o&&(n.TgZ(0,"div",21)(1,"div",22),n._UZ(2,"mat-spinner"),n.qZA(),n.TgZ(3,"span"),n._uU(4,"Cargando ..."),n.qZA()())}const P=[{path:"",component:(()=>{class o{constructor(t,i,l,w){this.fb=t,this.authService=i,this.snackBar=l,this.router=w,this.togglePassword=!1,this.loading=!1,this.loginForm=this.fb.group({email:[,[e.kI.required,e.kI.minLength(6),e.kI.email]],password:[,[e.kI.required,e.kI.minLength(6)]]})}ngAfterViewInit(){}ngOnInit(){}campoEsValido(t){return this.loginForm.controls[t].errors&&this.loginForm.controls[t].touched}login(){this.loginForm.invalid?this.loginForm.markAllAsTouched():(this.loading=!0,this.authService.login(this.loginForm.value).subscribe(t=>{sessionStorage.setItem("token",t.token),sessionStorage.setItem("name",t.user.name),this.loading=!1,sessionStorage.getItem("token")?this.router.navigateByUrl("view"):console.log("No hay token")},t=>{console.log(t.error.msg),this.mostrarSnackbar("Usuario o contrase\xf1a no son correctas"),this.loading=!1}),this.loginForm.reset())}mostrarSnackbar(t){this.snackBar.open(t,"Cerrar",{duration:3e3,panelClass:"errorSnackbar"})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(e.qu),n.Y36(d.e),n.Y36(m.ux),n.Y36(s.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login-page"]],decls:20,vars:7,consts:[[1,"login-container","d-flex","justify-content-center","bg"],[1,"contenedor-form","m-auto"],["autocomplete","off",1,"contenedor",3,"formGroup","ngSubmit"],["src","../../../assets/smartboarding-logo.png"],[1,"w-100","p-3"],[1,"contenedor-input","mt-5"],["id","email","type","email","formControlName","email","placeholder","Correo",1,"form-control","input-text","mt-3","w-100"],["class","form-text",4,"ngIf"],[1,"d-flex","align-items-end"],["id","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control","input-text","mt-3","w-100",3,"type"],["type","button",1,"toggle-password",3,"click"],["class","fa-solid fa-eye-slash mx-1",4,"ngIf"],["class","fa-solid fa-eye mx-1",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","mx-0","my-3"],[1,"w-100","text-center"],["routerLink","../recovery-account"],["class","d-flex flex-column align-items-center loading",4,"ngIf"],[1,"form-text"],[1,"fa-solid","fa-circle-exclamation"],[1,"fa-solid","fa-eye-slash","mx-1"],[1,"fa-solid","fa-eye","mx-1"],[1,"d-flex","flex-column","align-items-center","loading"],[1,"contenedor-loading"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"form",2),n.NdJ("ngSubmit",function(){return i.login()}),n._UZ(3,"img",3),n.TgZ(4,"div",4)(5,"div",5),n._UZ(6,"input",6),n.YNc(7,u,3,0,"span",7),n.TgZ(8,"div",8),n._UZ(9,"input",9),n.TgZ(10,"button",10),n.NdJ("click",function(){return i.togglePassword=!i.togglePassword}),n.YNc(11,p,1,0,"i",11),n.YNc(12,h,1,0,"i",12),n.qZA()(),n.YNc(13,x,3,0,"span",7),n.qZA(),n.TgZ(14,"button",13),n._uU(15,"Ingresar"),n.qZA(),n.TgZ(16,"div",14)(17,"a",15),n._uU(18,"Recuperar contrase\xf1a"),n.qZA()()()(),n.YNc(19,C,5,0,"div",16),n.qZA()()),2&t&&(n.xp6(2),n.Q6J("formGroup",i.loginForm),n.xp6(5),n.Q6J("ngIf",i.campoEsValido("email")),n.xp6(2),n.Q6J("type",i.togglePassword?"text":"password"),n.xp6(2),n.Q6J("ngIf",i.togglePassword),n.xp6(1),n.Q6J("ngIf",!i.togglePassword),n.xp6(1),n.Q6J("ngIf",i.campoEsValido("password")),n.xp6(6),n.Q6J("ngIf",i.loading))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,c.O5,s.yS,f.Ou],styles:[".login-container[_ngcontent-%COMP%]{width:100vw;height:100vh}.contenedor[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.3);border-radius:20px;margin:auto;min-width:320px;height:500px;width:20vw;padding:40px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}img[_ngcontent-%COMP%]{width:90%}.contenedor-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.contenedor-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.input-text[_ngcontent-%COMP%]{background:transparent;box-shadow:none;border-radius:0;border-bottom:2px #fff solid;width:100%}.input-checkbox[_ngcontent-%COMP%]{width:100%}.input-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:10px;color:#fff}a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline;font-weight:300;font-size:.9em}input[_ngcontent-%COMP%]{color:#fff!important}span[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{color:#d47077}.loading[_ngcontent-%COMP%]{margin-top:10px}.loading[_ngcontent-%COMP%]   .contenedor-loading[_ngcontent-%COMP%]{border-radius:50%;background-color:#ffffff4b}.loading[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{transform:scale(.8);stroke:#fff!important}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.toggle-password[_ngcontent-%COMP%]{background-color:transparent;border:none}.toggle-password[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[s.Bz.forChild(P)],s.Bz]}),o})();var v=a(7939);let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[c.ez,b,s.Bz,e.UX,v.s]]}),o})()}}]);