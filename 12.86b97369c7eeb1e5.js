"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[12],{3012:(Q,d,l)=>{l.r(d),l.d(d,{ViewModule:()=>y});var g=l(9808),m=l(9525),e=l(4893),u=l(1557),_=l(1319),Z=l(773),f=l(3745),i=l(2382),c=l(7322),p=l(6856);function h(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date"),e.qZA())}function T(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date"),e.qZA())}function A(n,a){if(1&n&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function U(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44),e._UZ(1,"hr"),e.TgZ(2,"label",37),e._uU(3,"Empresas"),e.qZA(),e.TgZ(4,"select",45),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().contratista=s}),e.TgZ(5,"option",16),e._uU(6,"Todas"),e.qZA(),e.YNc(7,A,2,2,"option",46),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.contratista),e.xp6(3),e.Q6J("ngForOf",t.contratistas)}}function q(n,a){1&n&&(e.TgZ(0,"div",48),e._UZ(1,"mat-spinner"),e.TgZ(2,"h4"),e._uU(3,"Cargando ..."),e.qZA()())}let x=(()=>{class n{constructor(t){this.mainService=t,this.registrosFiltrados=new e.vpe,this.termino="",this.contratistas=[{id:"",name:""}],this.isAdmin=!1,this.isMandante=!1,this.range=new i.cw({start:new i.NI,end:new i.NI}),this.loading=!1,this.filtrar=()=>{let o;this.loading=!0,o=this.range.value.end?new Date(this.range.value.end).toISOString().split("T",1).toString():"";const D={fecha:o,intervalo:Math.abs(this.range.value.start-this.range.value.end)/864e5,name:this.isName(),rut:this.isRut(),temp:this.temperatura,turno:this.turno,contratista:this.contratista};this.mainService.getPass(D).subscribe(V=>{this.loading=!1,this.registrosFiltrados.emit(V)})}}ngOnInit(){"ADM"===sessionStorage.getItem("role")&&(this.isAdmin=!0),"USM"===sessionStorage.getItem("role")&&(this.isMandante=!0),(this.isAdmin||this.isMandante)&&this.mainService.getEmpleadosXmandante().subscribe(t=>this.contratistas=t)}isName(){if(""!==this.termino.trim()){const t=this.termino.trim().substring(0,this.termino.length-1);return isNaN(t.trim())?this.termino:""}return""}isRut(){if(""!==this.termino.trim()){const t=this.termino.trim().substring(0,this.termino.length-1);return isNaN(t.trim())?"":this.termino}return""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filter"]],outputs:{registrosFiltrados:"registrosFiltrados"},decls:134,vars:12,consts:[[1,"filter"],[1,"m-0"],[1,"d-flex","flex-column","mb-2"],["for","busqueda"],[1,"d-flex"],["name","termino","id","busqueda","type","text","placeholder","Ingresa el termino de busqueda",1,"input-text","w-100","mr-2",3,"ngModel","ngModelChange"],["for",""],["appearance","fill",1,"w-100"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["for","turno"],["aria-label","Default select example","id","turno","name","turno",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],["value","1"],["value","2"],["value","3"],["for","temperatura"],["aria-label","Default select example","id","temperatura","name","temperatura",1,"form-select",3,"ngModel","ngModelChange"],["class","",4,"ngIf"],["type","button",1,"btn","btn-primary","w-100","mx-0",3,"click"],["class","alert mt-5 pt-5 text-center d-flex align-items-center flex-column","role","alert",4,"ngIf"],["id","accordionExample",1,"accordion","filter-responsive"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],[1,"m-0","btn","btn-primary","w-50","mr-5"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[3,"rangePicker"],["matStartDate","","placeholder","Start date"],["matEndDate","","placeholder","End date"],["picker2",""],["aria-label","Default select example","id","turno",1,"form-select"],["for","empresa"],["aria-label","Default select example","id","empresa",1,"form-select"],["aria-label","Default select example","id","temperatura",1,"form-select"],["for","reconocidos"],["aria-label","Default select example","id","reconocidos",1,"form-select"],["for","equipo"],["aria-label","Default select example","id","equipo",1,"form-select"],[1,""],["aria-label","Default select example","id","empresa","name","contratista",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["role","alert",1,"alert","mt-5","pt-5","text-center","d-flex","align-items-center","flex-column"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0)(1,"h4",1),e._uU(2,"Filtros"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Busca por nombre o por rut"),e.qZA(),e.TgZ(7,"div",4)(8,"input",5),e.NdJ("ngModelChange",function(r){return o.termino=r}),e.qZA()()(),e._UZ(9,"hr"),e.TgZ(10,"label",6),e._uU(11,"Registros por fecha"),e.qZA(),e.TgZ(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Ingresa el rango de fecha"),e.qZA(),e.TgZ(15,"mat-date-range-input",8),e._UZ(16,"input",9)(17,"input",10),e.qZA(),e.TgZ(18,"mat-hint"),e._uU(19,"MM/DD/YYYY \u2013 MM/DD/YYYY"),e.qZA(),e._UZ(20,"mat-datepicker-toggle",11)(21,"mat-date-range-picker",null,12),e.YNc(23,h,2,0,"mat-error",13),e.YNc(24,T,2,0,"mat-error",13),e.qZA(),e._UZ(25,"hr"),e.TgZ(26,"label",14),e._uU(27,"Turno"),e.qZA(),e.TgZ(28,"select",15),e.NdJ("ngModelChange",function(r){return o.turno=r}),e.TgZ(29,"option",16),e._uU(30,"Todos"),e.qZA(),e.TgZ(31,"option",17),e._uU(32,"Entrada"),e.qZA(),e.TgZ(33,"option",18),e._uU(34,"Salida"),e.qZA(),e.TgZ(35,"option",19),e._uU(36,"No se sabe"),e.qZA()(),e._UZ(37,"hr"),e.TgZ(38,"label",20),e._uU(39,"Temperatura"),e.qZA(),e.TgZ(40,"select",21),e.NdJ("ngModelChange",function(r){return o.temperatura=r}),e.TgZ(41,"option",16),e._uU(42,"Todas"),e.qZA(),e.TgZ(43,"option",17),e._uU(44,"Normal"),e.qZA(),e.TgZ(45,"option",18),e._uU(46,"Alta"),e.qZA()(),e.YNc(47,U,8,2,"div",22),e.TgZ(48,"button",23),e.NdJ("click",function(){return o.filtrar()}),e._uU(49,"Filtrar"),e.qZA()(),e.YNc(50,q,4,0,"div",24),e.TgZ(51,"div",25)(52,"div",26)(53,"h2",27)(54,"button",28)(55,"div",29),e._uU(56,"Filtros"),e.qZA(),e._UZ(57,"hr"),e.qZA()(),e.TgZ(58,"div",30)(59,"div",31)(60,"label",6),e._uU(61,"Registros por fecha"),e.qZA(),e.TgZ(62,"mat-form-field",7)(63,"mat-label"),e._uU(64,"Ingresa el rango de fecha"),e.qZA(),e.TgZ(65,"mat-date-range-input",32),e._UZ(66,"input",33)(67,"input",34),e.qZA(),e.TgZ(68,"mat-hint"),e._uU(69,"DD/MM/YYYY \u2013 DD/MM/YYYY"),e.qZA(),e._UZ(70,"mat-datepicker-toggle",11)(71,"mat-date-range-picker",null,35),e.qZA(),e._UZ(73,"hr")(74,"hr"),e.TgZ(75,"label",14),e._uU(76,"Turno"),e.qZA(),e.TgZ(77,"select",36)(78,"option",16),e._uU(79,"Todos"),e.qZA(),e.TgZ(80,"option",17),e._uU(81,"One"),e.qZA(),e.TgZ(82,"option",18),e._uU(83,"Two"),e.qZA(),e.TgZ(84,"option",19),e._uU(85,"Three"),e.qZA()(),e._UZ(86,"hr"),e.TgZ(87,"label",37),e._uU(88,"Empresas"),e.qZA(),e.TgZ(89,"select",38)(90,"option",16),e._uU(91,"Todas"),e.qZA(),e.TgZ(92,"option",17),e._uU(93,"One"),e.qZA(),e.TgZ(94,"option",18),e._uU(95,"Two"),e.qZA(),e.TgZ(96,"option",19),e._uU(97,"Three"),e.qZA()(),e._UZ(98,"hr"),e.TgZ(99,"label",20),e._uU(100,"Temperatura"),e.qZA(),e.TgZ(101,"select",39)(102,"option",16),e._uU(103,"Todas"),e.qZA(),e.TgZ(104,"option",17),e._uU(105,"One"),e.qZA(),e.TgZ(106,"option",18),e._uU(107,"Two"),e.qZA(),e.TgZ(108,"option",19),e._uU(109,"Three"),e.qZA()(),e._UZ(110,"hr"),e.TgZ(111,"label",40),e._uU(112,"Reconocidos"),e.qZA(),e.TgZ(113,"select",41)(114,"option",16),e._uU(115,"Todas"),e.qZA(),e.TgZ(116,"option",17),e._uU(117,"One"),e.qZA(),e.TgZ(118,"option",18),e._uU(119,"Two"),e.qZA(),e.TgZ(120,"option",19),e._uU(121,"Three"),e.qZA()(),e._UZ(122,"hr"),e.TgZ(123,"label",42),e._uU(124,"Equipo"),e.qZA(),e.TgZ(125,"select",43)(126,"option",16),e._uU(127,"Todas"),e.qZA(),e.TgZ(128,"option",17),e._uU(129,"One"),e.qZA(),e.TgZ(130,"option",18),e._uU(131,"Two"),e.qZA(),e.TgZ(132,"option",19),e._uU(133,"Three"),e.qZA()()()()()()),2&t){const s=e.MAs(22),r=e.MAs(72);e.xp6(8),e.Q6J("ngModel",o.termino),e.xp6(7),e.Q6J("formGroup",o.range)("rangePicker",s),e.xp6(5),e.Q6J("for",s),e.xp6(3),e.Q6J("ngIf",o.range.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",o.range.controls.end.hasError("matEndDateInvalid")),e.xp6(4),e.Q6J("ngModel",o.turno),e.xp6(12),e.Q6J("ngModel",o.temperatura),e.xp6(7),e.Q6J("ngIf",o.isAdmin||o.isMandante),e.xp6(3),e.Q6J("ngIf",o.loading),e.xp6(15),e.Q6J("rangePicker",r),e.xp6(5),e.Q6J("for",r)}},directives:[i._Y,i.JL,i.F,i.Fj,i.JJ,i.On,c.KE,c.hX,p.wx,i.sg,p.zY,i.u,p.By,c.bx,p.nW,c.R9,p._g,g.O5,c.TO,i.EJ,i.YN,i.Kr,g.sg,Z.Ou],styles:["@media (max-width: 991px){.filter[_ngcontent-%COMP%]{display:none}.filter-responsive[_ngcontent-%COMP%]{display:block}}@media (min-width: 992px){.filter[_ngcontent-%COMP%]{display:block}.filter-responsive[_ngcontent-%COMP%]{display:none}}[_ngcontent-%COMP%]::placeholder{color:gray!important;font-size:.8rem}"]}),n})();function v(n,a){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner"),e.TgZ(2,"h4"),e._uU(3,"Cargando ..."),e.qZA()())}function b(n,a){1&n&&(e.TgZ(0,"td"),e._uU(1,"Entrada"),e.qZA())}function C(n,a){1&n&&(e.TgZ(0,"td"),e._uU(1,"Salida"),e.qZA())}function M(n,a){1&n&&(e.TgZ(0,"td"),e._uU(1,"No se sabe"),e.qZA())}function w(n,a){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.temperature)}}function O(n,a){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.temperature)}}function P(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"th",15),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"img",16),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"img",16),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.YNc(14,b,2,0,"td",17),e.YNc(15,C,2,0,"td",17),e.YNc(16,M,2,0,"td",17),e.YNc(17,w,2,1,"td",18),e.YNc(18,O,2,1,"td",17),e.qZA()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(e.xi3(3,11,t.create_time,"short")),e.xp6(3),e.Oqu(t.empresa),e.xp6(2),e.MGl("src","http://173.249.58.215:9000",t.resource_url,"",e.LSH),e.xp6(2),e.MGl("src","http://173.249.58.215:9000",t.img_uri,"",e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.id_card),e.xp6(1),e.Q6J("ngIf",1===t.direction),e.xp6(1),e.Q6J("ngIf",2===t.direction),e.xp6(1),e.Q6J("ngIf",3===t.direction),e.xp6(1),e.Q6J("ngIf",t.temperature>37.5),e.xp6(1),e.Q6J("ngIf",t.temperature<=37.4)}}const F=function(){return[5,10,25,100]};function J(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"table",11)(2,"thead",10)(3,"tr")(4,"th",12),e._uU(5,"Fecha"),e.qZA(),e.TgZ(6,"th",12),e._uU(7,"Empresa"),e.qZA(),e.TgZ(8,"th",12),e._uU(9,"Foto"),e.qZA(),e.TgZ(10,"th",12),e._uU(11,"Pasada"),e.qZA(),e.TgZ(12,"th",12),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"th",12),e._uU(15,"Rut"),e.qZA(),e.TgZ(16,"th",12),e._uU(17,"Turno"),e.qZA(),e.TgZ(18,"th",12),e._uU(19,"Temp"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,P,19,14,"tr",13),e.ALo(22,"slice"),e.qZA()(),e.TgZ(23,"mat-paginator",14),e.NdJ("page",function(s){return e.CHM(t),e.oxw().cambiarPagina(s)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",e.Dn7(22,4,t.registros,t.start,t.end)),e.xp6(2),e.Q6J("length",t.registros.length)("pageSize",t.pageSize)("pageSizeOptions",e.DdM(8,F))}}const N=[{path:"",component:(()=>{class n{constructor(t){this.mainService=t,this.registros=[],this.loading=!1,this.parametres={initDate:"",intervalo:365,name:"",rut:""},this.pageSize=10,this.start=0,this.end=this.pageSize,this.loading=!0,this.mainService.getPass(this.parametres).subscribe(o=>{this.registros=o,this.loading=!1})}ngOnInit(){}recargar(){this.loading=!0,this.mainService.getPass(this.parametres).subscribe(t=>{this.registros=t,this.loading=!1})}cambiarPagina(t){this.start=t.pageIndex*t.pageSize,this.end=this.start+t.pageSize}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-page"]],decls:11,vars:2,consts:[[1,"container","my-3"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-9","main"],["class","alert mt-5 pt-5 text-center d-flex align-items-center flex-column","role","alert",4,"ngIf"],["class","",4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-3","aside","mb-5"],[1,"btn","btn-primary","w-100","m-0","mb-3",3,"click"],[1,"fa-solid","fa-arrows-rotate"],[3,"registrosFiltrados"],["role","alert",1,"alert","mt-5","pt-5","text-center","d-flex","align-items-center","flex-column"],[1,""],[1,"table","table-hover","p-3","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],["scope","row"],["alt","",1,"table-avatar",3,"src"],[4,"ngIf"],["class","fiebre",4,"ngIf"],[1,"fiebre"]],template:function(t,o){1&t&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"main",2),e.YNc(4,v,4,0,"div",3),e.YNc(5,J,24,9,"div",4),e.qZA(),e.TgZ(6,"aside",5)(7,"button",6),e.NdJ("click",function(){return o.recargar()}),e._UZ(8,"i",7),e._uU(9," Recargar"),e.qZA(),e.TgZ(10,"app-filter",8),e.NdJ("registrosFiltrados",function(r){return o.registros=r}),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},directives:[_.S,g.O5,Z.Ou,g.sg,f.NW,x],pipes:[g.OU,g.uU],styles:["*[_ngcontent-%COMP%]{color:#00395e}i[_ngcontent-%COMP%]{color:#fff;margin-right:5px}.main[_ngcontent-%COMP%]{overflow-x:auto;max-width:1000px!important}button[_ngcontent-%COMP%]{padding:10px 30%;display:flex;justify-content:space-around;align-items:center;color:#fff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff}td[_ngcontent-%COMP%]{color:#00395e!important;font-weight:500}.fiebre[_ngcontent-%COMP%]{color:#d47077!important;font-weight:600!important}@media (max-width: 991px){main[_ngcontent-%COMP%]{order:2}aside[_ngcontent-%COMP%]{order:1}}"]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(N)],m.Bz]}),n})();var Y=l(4466),I=l(7939);let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,S,Y.m,I.s,i.u5,i.UX]]}),n})()}}]);