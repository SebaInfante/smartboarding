"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[679],{7679:(y,c,i)=>{i.r(c),i.d(c,{LoginModule:()=>v});var l=i(9808),s=i(9525),e=i(2382),n=i(4893),g=i(2340),m=i(520);let d=(()=>{class o{constructor(t){this.http=t,this.API_URI=g.N.API_URI}login(t){return this.http.post(`${this.API_URI}api/auth/login`,t)}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(m.eN))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=i(7261);function f(o,r){1&o&&(n.TgZ(0,"span",15),n._UZ(1,"i",16),n._uU(2," Debe de ser un correo valido "),n.qZA())}function h(o,r){1&o&&(n.TgZ(0,"span",15),n._UZ(1,"i",16),n._uU(2," Debe de ser una contrase\xf1a mayor a 6 letras "),n.qZA())}const x=[{path:"",component:(()=>{class o{constructor(t,a,u,C){this.fb=t,this.authService=a,this.snackBar=u,this.router=C,this.loginForm=this.fb.group({email:[,[e.kI.required,e.kI.minLength(6),e.kI.email]],password:[,[e.kI.required,e.kI.minLength(6)]]})}ngOnInit(){}campoEsValido(t){return this.loginForm.controls[t].errors&&this.loginForm.controls[t].touched}login(){this.loginForm.invalid?this.loginForm.markAllAsTouched():(this.authService.login(this.loginForm.value).subscribe(t=>{sessionStorage.setItem("token",t.token),sessionStorage.setItem("name",t.user.name),"ADM"===t.user.role&&this.router.navigateByUrl("admin"),("USM"===t.user.role||"USC"===t.user.role)&&this.router.navigateByUrl("enroll")},t=>{console.log(t.error.msg),this.mostrarSnackbar("Usuario o contrase\xf1a no son correctas")}),this.loginForm.reset())}mostrarSnackbar(t){this.snackBar.open(t,"Cerrar",{duration:3e3,panelClass:"errorSnackbar"})}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(e.qu),n.Y36(d),n.Y36(p.ux),n.Y36(s.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login-page"]],decls:19,vars:3,consts:[[1,"login-container","d-flex","justify-content-center","bg"],[1,"contenedor-form","m-auto"],["autocomplete","off",1,"contenedor",3,"formGroup","ngSubmit"],["src","../../../assets/smartboarding-logo.png"],[1,"w-100","p-3"],[1,"contenedor-input","mt-5"],["id","email","type","email","formControlName","email","placeholder","Correo",1,"form-control","input-text","mt-3","w-100"],["class","form-text",4,"ngIf"],["id","password","type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control","input-text","mt-3","w-100"],[1,"input-checkbox","mt-2"],["type","checkbox","name","recuerdame","id",""],["for","recuerdame"],["type","submit",1,"btn","btn-primary","w-100","mx-0","my-3"],[1,"w-100","text-center"],["routerLink","../recovery-account"],[1,"form-text"],[1,"fa-solid","fa-circle-exclamation"]],template:function(t,a){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"form",2),n.NdJ("ngSubmit",function(){return a.login()}),n._UZ(3,"img",3),n.TgZ(4,"div",4)(5,"div",5),n._UZ(6,"input",6),n.YNc(7,f,3,0,"span",7),n._UZ(8,"input",8),n.YNc(9,h,3,0,"span",7),n.qZA(),n.TgZ(10,"div",9),n._UZ(11,"input",10),n.TgZ(12,"label",11),n._uU(13,"Recordar Cuenta"),n.qZA()(),n.TgZ(14,"button",12),n._uU(15,"Ingresar"),n.qZA(),n.TgZ(16,"div",13)(17,"a",14),n._uU(18,"Recuperar contrase\xf1a"),n.qZA()()()()()()),2&t&&(n.xp6(2),n.Q6J("formGroup",a.loginForm),n.xp6(5),n.Q6J("ngIf",a.campoEsValido("email")),n.xp6(2),n.Q6J("ngIf",a.campoEsValido("password")))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,l.O5,s.yS],styles:[".login-container[_ngcontent-%COMP%]{width:100vw;height:100vh}.contenedor[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,.3);border-radius:20px;margin:auto;min-width:320px;height:500px;width:20vw;padding:40px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}img[_ngcontent-%COMP%]{width:90%}.contenedor-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.contenedor-input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.input-text[_ngcontent-%COMP%]{background:transparent;box-shadow:none;border-radius:0;border-bottom:2px #fff solid;width:100%}.input-checkbox[_ngcontent-%COMP%]{width:100%}.input-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:10px;color:#fff}a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline;font-weight:300;font-size:.9em}input[_ngcontent-%COMP%]{color:#fff!important}span[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{color:#d47077}"]}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[s.Bz.forChild(x)],s.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[l.ez,b,s.Bz,e.UX]]}),o})()}}]);