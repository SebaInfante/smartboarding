"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[579],{1579:(S,h,l)=>{l.r(h),l.d(h,{EnrollModule:()=>le});var m=l(9808),Z=l(9525),v=l(1492),b=l(520),E=l(2340),o=l(2382),e=l(4893),s=l(1557),d=l(7261),T=l(2313),g=l(1319);function M(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," El nombre debe ser mayor a 10 caracteres. "),e.qZA())}function P(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," Rut no valido. "),e.qZA())}function N(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," Rut no valido. "),e.qZA())}function y(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," Rut Usado. "),e.qZA())}function F(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," G\xe9nero es requerido "),e.qZA())}function O(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," La Foto es requerida "),e.qZA())}function I(n,r){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function J(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," Empresa es requerido "),e.qZA())}function k(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"label",40),e._uU(2,"Empresa"),e.qZA(),e.TgZ(3,"select",41),e.NdJ("change",function(){return e.CHM(t),e.oxw().changeEmpresa()}),e.YNc(4,I,2,2,"option",29),e.qZA(),e.YNc(5,J,3,0,"span",8),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.campoEsValido("empresa"))}}function Y(n,r){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.employment)}}function w(n,r){1&n&&(e.TgZ(0,"span",38),e._UZ(1,"i",39),e._uU(2," Ocupacion es requerido "),e.qZA())}function D(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",47),e.NdJ("change",function(i){e.CHM(t);const c=e.oxw(),f=c.$implicit,u=c.index;return e.oxw().seleccionarDoc(i,f.id,f.name,u)})("ngModel",function(){return e.CHM(t),e.oxw().$implicit.id}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.MGl("id","",t.id,"_input")}}function R(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index;return e.oxw().borrarUnDoc(i)}),e._UZ(2,"i",49),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=e.oxw().index,a=e.oxw();e.xp6(3),e.hij(" ",a.documentosCargados[t].file.name," ")}}function Q(n,r){if(1&n&&(e.TgZ(0,"div",43)(1,"label",44),e._uU(2),e.qZA(),e.TgZ(3,"div",19),e.YNc(4,D,1,1,"input",45),e.qZA(),e.YNc(5,R,4,1,"div",46),e.qZA()),2&n){const t=r.$implicit,a=r.index,i=e.oxw();e.s9C("id",t.name),e.xp6(1),e.s9C("for",t.id),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Q6J("ngIf",""==i.documentosCargados[a]||!i.documentosCargados[a]),e.xp6(1),e.Q6J("ngIf",i.documentosCargados[a]&&""!=i.documentosCargados[a])}}let z=E.N.API_URI;const L={headers:new b.WM({Authorization:sessionStorage.getItem("token")||""})};let V=(()=>{class n{constructor(t,a,i,c,f){this.mainService=t,this.fb=a,this.http=i,this.snackBar=c,this.sanitizer=f,this.documentosCargados=[],this.rutValido=!0,this.rutNoUsado=!0,this.hayArchivo=!1,this.isADM=!1,this.isUSM=!1,this.formEnrolamiento=this.fb.group({nombre:[,[o.kI.required,o.kI.minLength(10)]],rut:[,[o.kI.required]],genero:[,[o.kI.required]],avatar:[,[o.kI.required]],empresa:[,[o.kI.required]],ocupacion:[,[o.kI.required]],documents:this.fb.array([])}),this.seleccionarAvatar=u=>{this.avatar=u.target.files[0];const _=new FormData;return _.append("file",this.avatar),this.http.post(`${z}api/person/photoPreview`,_,L).subscribe(U=>{const x=new Uint8Array(U.data).reduce((se,ce)=>se+String.fromCharCode(ce),""),q=btoa(x);this.image=this.sanitizer.bypassSecurityTrustUrl("data:image/jpg;base64, "+q)})},this.seleccionarDoc=(u,_,U,p)=>{u?(this.documentosCargados[p]={file:u.target.files[0],id:_,name:U},this.hayArchivo=!0,this.mostrarSnackbar("Archivo cargado correctamente","successSnackbar"),console.log(this.documentosCargados)):(console.log("Archivo no encontrado"),this.hayArchivo=!1)}}ngOnInit(){"ADM"===sessionStorage.getItem("role")&&(this.mainService.getEmpleadosXadmin().subscribe(t=>this.employees=t),this.isADM=!0),"USM"===sessionStorage.getItem("role")&&(this.mainService.getEmpleadosXmandante().subscribe(t=>this.employees=t),this.isUSM=!0),"USC"===sessionStorage.getItem("role")&&(this.formEnrolamiento.value.empresa=0,this.mainService.getEmployement(sessionStorage.getItem("name")).subscribe(t=>this.ocupacion=t))}campoEsValido(t){return this.formEnrolamiento.controls[t].errors&&this.formEnrolamiento.controls[t].touched}changeEmpresa(){this.documentos=[],this.mainService.getEmployement(this.formEnrolamiento.value.empresa).subscribe(t=>this.ocupacion=t)}changeOcupacion(){this.documentos=[],this.mainService.getDocuments(this.formEnrolamiento.value.ocupacion).subscribe(t=>this.documentos=t)}blurRut(){this.rutNoUsado=!0,(0,v.fW)(this.formEnrolamiento.value.rut)?(this.rutValido=!0,this.mainService.validarRut((0,v.NT)(this.formEnrolamiento.value.rut)).subscribe(t=>this.rutNoUsado=!0,t=>this.rutNoUsado=!1)):this.rutValido=!1}enrolar(){if(this.formEnrolamiento.invalid&&(!this.rutNoUsado||!this.rutValido))return void this.formEnrolamiento.markAllAsTouched();const t=sessionStorage.getItem("name");let c,f,a=this.formEnrolamiento.value.genero,i=this.formEnrolamiento.value.empresa;const u={nombre:this.formEnrolamiento.value.nombre,rut:this.formEnrolamiento.value.rut||"error Rut"};if(""==u.nombre||""==u.rut)return this.mostrarSnackbar("Error al cargar nombre o rut","errorSnackbar"),void this.formEnrolamiento.reset();this.mostrarSnackbar("Se subieron los archivos :)","successSnackbar"),this.mainService.addPerson(u).subscribe(_=>{c=_[0];let U=""+c;this.mainService.upFile(this.avatar,t).subscribe(p=>{f=p[0],this.mainService.addPersonPhoto(c,f,t).subscribe(x=>{},x=>this.mostrarSnackbar("Algo salio mal, comunicate con el administrador","errorSnackbar"))},p=>this.mostrarSnackbar("Error al cargar la foto","errorSnackbar")),this.mainService.addEmplyee(c,t,a,i).subscribe(p=>{this.mostrarSnackbar("Persona enrolada correctamente","successSnackbar")}),this.documentosCargados.map(p=>{console.log("asd"),console.log(p),""!=p&&this.mainService.upDocs(p.file,t,p.id,U,p.name).subscribe(x=>{this.documentosCargados=[],this.documentos=[]})})},_=>this.mostrarSnackbar("Error al enrolar","errorSnackbar")),this.image="",this.formEnrolamiento.reset()}borrarUnDoc(t){this.documentosCargados[t]=""}mostrarSnackbar(t,a){this.snackBar.open(t,"Cerrar",{duration:3e3,panelClass:a})}camaraNoDisponible(){this.mostrarSnackbar("El uso de la c\xe1mara aun no esta operativa","errorSnackbar")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.J),e.Y36(o.qu),e.Y36(b.eN),e.Y36(d.ux),e.Y36(T.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-enroll-page"]],decls:63,vars:12,consts:[[1,"container","my-3"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mx-5"],[1,"row"],[1,"col-12","col-md-6"],[1,"mb-5"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingrese el nombre de la persona a registrar",1,"input-text","w-100"],["class","form-text",4,"ngIf"],[1,"my-5"],["for","rut"],["type","text","id","rut","formControlName","rut","placeholder","Ejemplo... 12345678-9",1,"input-text","w-100",3,"change"],["for","genero"],["aria-label","Default select example","id","genero","formControlName","genero",1,"form-select"],["value","1"],["value","2"],["value","0"],[1,"mt-5","mb-2"],["for","avatar"],[1,"input-group"],["type","file","accept","image/*","id","avatar","aria-describedby","inputGroupFileAddon04","aria-label","Upload","formControlName","avatar",1,"form-control","file-update",3,"change"],[1,"text-center"],[1,"mb-5","text-center","w-100"],[1,"input-group","w-100"],["type","button",1,"btn","btn-primary","w-100",3,"click"],[1,"fa-solid","fa-camera"],["class","my-5",4,"ngIf"],["for","turno"],["aria-label","Default select example","id","ocupacion","formControlName","ocupacion",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class"," my-5",3,"id",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","px-5"],[1,"rounded-circle","shadow","w-100","mb-5",3,"src"],[1,"d-flex","align-items-center","flex-column"],[1,"btn","btn-primary","w-100","m-0","mb-3"],["routerLink","./enrolled",1,"btn","btn-cancel","w-50","m-0",3,"click"],[1,"button-fab"],[1,"fa-solid","fa-question"],[1,"form-text"],[1,"fa-solid","fa-circle-exclamation"],["for","empresa"],["aria-label","Default select example","id","empresa","formControlName","empresa",1,"form-select",3,"change"],[3,"value"],[1,"my-5",3,"id"],[3,"for"],["type","file","class","form-control file-update","aria-describedby","inputGroupFileAddon04","aria-label","Upload",3,"id","change","ngModel",4,"ngIf"],[4,"ngIf"],["type","file","aria-describedby","inputGroupFileAddon04","aria-label","Upload",1,"form-control","file-update",3,"id","change","ngModel"],["type","button",1,"deleteItem",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(t,a){1&t&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"form",1),e.NdJ("ngSubmit",function(){return a.enrolar()}),e.TgZ(3,"h3",2),e._uU(4,"Formulario de enrolamiento"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"label",6),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",7),e.YNc(12,M,3,0,"span",8),e.qZA(),e.TgZ(13,"div",9)(14,"label",10),e._uU(15,"Rut"),e.qZA(),e.TgZ(16,"input",11),e.NdJ("change",function(){return a.blurRut()}),e.qZA(),e.YNc(17,P,3,0,"span",8),e.YNc(18,N,3,0,"span",8),e.YNc(19,y,3,0,"span",8),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22,"G\xe9nero"),e.qZA(),e.TgZ(23,"select",13)(24,"option",14),e._uU(25,"Masculino"),e.qZA(),e.TgZ(26,"option",15),e._uU(27,"Femenino"),e.qZA(),e.TgZ(28,"option",16),e._uU(29,"No Especifica"),e.qZA()(),e.YNc(30,F,3,0,"span",8),e.qZA(),e.TgZ(31,"div",17)(32,"label",18),e._uU(33,"Foto"),e.qZA(),e.TgZ(34,"div",19)(35,"input",20),e.NdJ("change",function(c){return a.seleccionarAvatar(c)}),e.qZA()(),e.YNc(36,O,3,0,"span",8),e.qZA(),e.TgZ(37,"p",21),e._uU(38,"- O -"),e.qZA(),e.TgZ(39,"div",22)(40,"label",18),e._uU(41,"Activa tu c\xe1mara"),e.qZA(),e.TgZ(42,"div",23)(43,"button",24),e.NdJ("click",function(){return a.camaraNoDisponible()}),e._UZ(44,"i",25),e.qZA()()(),e.YNc(45,k,6,2,"div",26),e.TgZ(46,"div",9)(47,"label",27),e._uU(48,"Ocupaci\xf3n"),e.qZA(),e.TgZ(49,"select",28),e.NdJ("change",function(){return a.changeOcupacion()}),e.YNc(50,Y,2,2,"option",29),e.qZA(),e.YNc(51,w,3,0,"span",8),e.qZA(),e.YNc(52,Q,6,5,"div",30),e.qZA(),e.TgZ(53,"div",31),e._UZ(54,"img",32),e.qZA()(),e.TgZ(55,"div",33)(56,"button",34),e._uU(57,"Enrolar"),e.qZA(),e.TgZ(58,"button",35),e.NdJ("click",function(){return a.formEnrolamiento.reset()}),e._uU(59,"Cancelar"),e.qZA()()()(),e.TgZ(60,"div",36)(61,"button"),e._UZ(62,"i",37),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("formGroup",a.formEnrolamiento),e.xp6(10),e.Q6J("ngIf",a.campoEsValido("nombre")),e.xp6(5),e.Q6J("ngIf",a.campoEsValido("rut")),e.xp6(1),e.Q6J("ngIf",!a.rutValido),e.xp6(1),e.Q6J("ngIf",!a.rutNoUsado),e.xp6(11),e.Q6J("ngIf",a.campoEsValido("genero")),e.xp6(6),e.Q6J("ngIf",a.campoEsValido("avatar")),e.xp6(9),e.Q6J("ngIf",a.isADM||a.isUSM),e.xp6(5),e.Q6J("ngForOf",a.ocupacion),e.xp6(1),e.Q6J("ngIf",a.campoEsValido("ocupacion")),e.xp6(1),e.Q6J("ngForOf",a.documentos),e.xp6(2),e.Q6J("src",a.image,e.LSH))},directives:[g.S,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,m.O5,o.EJ,o.YN,o.Kr,m.sg,o.On,Z.rH],styles:["input[_ngcontent-%COMP%]{height:38px}.file-update[_ngcontent-%COMP%]{height:38px;box-shadow:0 4px 4px #00385e6e;margin-right:10px}.btn-secondary[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00385e6e;margin:0 0 0 10px;height:38px}span[_ngcontent-%COMP%]{color:#d47077}[_ngcontent-%COMP%]::placeholder{color:#80808080!important}.deleteItem[_ngcontent-%COMP%]{color:#d47077;border:none;background:none}"]}),n})();var G=l(3745),A=l(7322),C=l(6856),H=l(773);function $(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date"),e.qZA())}function j(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date"),e.qZA())}function X(n,r){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.name),e.xp6(1),e.Oqu(t.name)}}function B(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",32),e._UZ(1,"hr"),e.TgZ(2,"label",33),e._uU(3,"Empresas"),e.qZA(),e.TgZ(4,"select",34),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().contratista=i}),e.TgZ(5,"option",22),e._uU(6,"Todas"),e.qZA(),e.YNc(7,X,2,2,"option",35),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.contratista),e.xp6(3),e.Q6J("ngForOf",t.contratistas)}}function K(n,r){1&n&&(e.TgZ(0,"div",37),e._UZ(1,"mat-spinner"),e.TgZ(2,"h4"),e._uU(3,"Cargando ..."),e.qZA()())}let W=(()=>{class n{constructor(t){this.mainService=t,this.registrosFiltrados=new e.vpe,this.termino="",this.contratistas=[{id:"",name:""}],this.isAdmin=!1,this.isMandante=!1,this.rangeModal=new o.cw({start:new o.NI,end:new o.NI}),this.loading=!1,this.filtrar=()=>{let a;this.loading=!0,a=this.rangeModal.value.end?new Date(this.rangeModal.value.end).toISOString().split("T",1).toString():"";const f={fecha:a,intervalo:Math.abs(this.rangeModal.value.start-this.rangeModal.value.end)/864e5,name:this.isName(),rut:this.isRut(),turno:this.turno,contratista:this.contratista};this.mainService.getPersons(f).subscribe(u=>{this.loading=!1,this.registrosFiltrados.emit(u)})}}ngOnInit(){"ADM"===sessionStorage.getItem("role")&&(this.isAdmin=!0),"USM"===sessionStorage.getItem("role")&&(this.isMandante=!0),(this.isAdmin||this.isMandante)&&this.mainService.getEmpleadosXmandante().subscribe(t=>this.contratistas=t)}isName(){if(""!==this.termino.trim()){const t=this.termino.trim().substring(0,this.termino.length-1);return isNaN(t.trim())?this.termino:""}return""}isRut(){if(""!==this.termino.trim()){const t=this.termino.trim().substring(0,this.termino.length-1);return isNaN(t.trim())?"":this.termino}return""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-filter-modal"]],outputs:{registrosFiltrados:"registrosFiltrados"},decls:60,vars:9,consts:[["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"filter"],[1,"d-flex","flex-column","mb-2"],["for","busqueda"],[1,"d-flex"],["name","termino","id","busqueda","type","text","placeholder","Ingresa el termino de busqueda",1,"input-text","w-100","mr-2",3,"ngModel","ngModelChange"],["for",""],["appearance","fill",1,"w-100"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["for","turno"],["aria-label","Default select example","id","turno","name","turno",1,"form-select",3,"ngModel","ngModelChange"],["value","all","selected",""],["value","1"],["value","2"],["value","3"],["aria-label","Default select example","id","turno",1,"form-select"],["class","",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["class","alert mt-5 pt-5 text-center d-flex align-items-center flex-column","role","alert",4,"ngIf"],[1,""],["for","empresa"],["aria-label","Default select example","id","empresa","name","contratista",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["role","alert",1,"alert","mt-5","pt-5","text-center","d-flex","align-items-center","flex-column"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Filtros"),e.qZA(),e._UZ(6,"button",5),e.qZA(),e.TgZ(7,"div",6)(8,"form",7)(9,"div",8)(10,"label",9),e._uU(11,"Busca por nombre o por rut"),e.qZA(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(c){return a.termino=c}),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"label",12),e._uU(16,"Registros por fecha"),e.qZA(),e.TgZ(17,"mat-form-field",13)(18,"mat-label"),e._uU(19,"Ingresa el rango de fecha"),e.qZA(),e.TgZ(20,"mat-date-range-input",14),e._UZ(21,"input",15)(22,"input",16),e.qZA(),e.TgZ(23,"mat-hint"),e._uU(24,"MM/DD/YYYY \u2013 MM/DD/YYYY"),e.qZA(),e._UZ(25,"mat-datepicker-toggle",17)(26,"mat-date-range-picker",null,18),e.YNc(28,$,2,0,"mat-error",19),e.YNc(29,j,2,0,"mat-error",19),e.qZA(),e._UZ(30,"hr"),e.TgZ(31,"label",20),e._uU(32,"Turno"),e.qZA(),e.TgZ(33,"select",21),e.NdJ("ngModelChange",function(c){return a.turno=c}),e.TgZ(34,"option",22),e._uU(35,"Todos"),e.qZA(),e.TgZ(36,"option",23),e._uU(37,"Entrada"),e.qZA(),e.TgZ(38,"option",24),e._uU(39,"Salida"),e.qZA(),e.TgZ(40,"option",25),e._uU(41,"No se sabe"),e.qZA()(),e.TgZ(42,"label",20),e._uU(43,"Ocupaci\xf3n"),e.qZA(),e.TgZ(44,"select",26)(45,"option",22),e._uU(46,"Todos"),e.qZA(),e.TgZ(47,"option",23),e._uU(48,"Ocupacion 1"),e.qZA(),e.TgZ(49,"option",24),e._uU(50,"Ocupacion 2"),e.qZA(),e.TgZ(51,"option",25),e._uU(52,"Ocupacion 3"),e.qZA()(),e.YNc(53,B,8,2,"div",27),e.qZA()(),e.TgZ(54,"div",28)(55,"button",29),e._uU(56,"Cerrar"),e.qZA(),e.TgZ(57,"button",30),e.NdJ("click",function(){return a.filtrar()}),e._uU(58,"Filtrar"),e.qZA()()()()(),e.YNc(59,K,4,0,"div",31)),2&t){const i=e.MAs(27);e.xp6(13),e.Q6J("ngModel",a.termino),e.xp6(7),e.Q6J("formGroup",a.rangeModal)("rangePicker",i),e.xp6(5),e.Q6J("for",i),e.xp6(3),e.Q6J("ngIf",a.rangeModal.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",a.rangeModal.controls.end.hasError("matEndDateInvalid")),e.xp6(4),e.Q6J("ngModel",a.turno),e.xp6(20),e.Q6J("ngIf",a.isAdmin||a.isMandante),e.xp6(6),e.Q6J("ngIf",a.loading)}},directives:[o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,A.KE,A.hX,C.wx,o.sg,C.zY,o.u,C.By,A.bx,C.nW,A.R9,C._g,m.O5,A.TO,o.EJ,o.YN,o.Kr,m.sg,H.Ou],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:-1!important;width:100vw;height:100vh;background-color:#f10404}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:99999999999!important}.modal-dialog[_ngcontent-%COMP%], #exampleModal[_ngcontent-%COMP%]{z-index:900}[_ngcontent-%COMP%]::placeholder{color:gray!important;font-weight:300;font-size:.8rem}"]}),n})();const ee=function(n){return["../enrolled",n]};function te(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",9),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td")(17,"div",10),e._UZ(18,"i",11)(19,"i",12)(20,"i",13),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(2),e.MGl("src","http://173.249.58.215:9000",t.resource_url,"",e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.id_card),e.xp6(2),e.Oqu(t.turno),e.xp6(2),e.Oqu(t.ocupacion),e.xp6(2),e.Oqu(t.empresa),e.xp6(2),e.Oqu(e.xi3(15,8,t.create_time,"medium")),e.xp6(5),e.Q6J("routerLink",e.VKq(11,ee,t.id))}}const ne=function(){return[5,10,25,100]},oe=[{path:"",component:V},{path:"enrolled",component:(()=>{class n{constructor(t){this.mainService=t,this.pageSize=10,this.start=0,this.end=10,this.items=[],this.parametres={},this.mainService.getPersons(this.parametres).subscribe(a=>{this.items=a})}ngOnInit(){}cambiarPagina(t){this.start=t.pageIndex*t.pageSize,this.end=this.start+t.pageSize}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-enrolled-page"]],decls:32,vars:9,consts:[[1,"container","my-3"],[1,"d-flex","align-items-end","justify-content-between"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],[1,"table","table-hover","p-3"],[1,""],["scope","col"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageSizeOptions","page"],[3,"registrosFiltrados"],["alt","",1,"table-avatar",3,"src"],[1,"d-flex","justify-content-evenly"],[1,"fa-regular","fa-pen-to-square"],[1,"fa-regular","fa-address-card",3,"routerLink"],[1,"fa-regular","fa-trash-can"]],template:function(t,a){1&t&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1)(3,"h2"),e._uU(4,"Lista de enrolados"),e.qZA(),e.TgZ(5,"button",2),e._uU(6,"Filtrar"),e.qZA()(),e._UZ(7,"hr"),e.TgZ(8,"table",3)(9,"thead",4)(10,"tr")(11,"th",5),e._uU(12,"Avatar"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"Rut"),e.qZA(),e.TgZ(17,"th",5),e._uU(18,"Turno"),e.qZA(),e.TgZ(19,"th",5),e._uU(20,"Ocupaci\xf3n"),e.qZA(),e.TgZ(21,"th",5),e._uU(22,"Empresa"),e.qZA(),e.TgZ(23,"th",5),e._uU(24,"Creaci\xf3n"),e.qZA(),e.TgZ(25,"th",5),e._uU(26,"Opciones"),e.qZA()()(),e.TgZ(27,"tbody"),e.YNc(28,te,21,13,"tr",6),e.ALo(29,"slice"),e.qZA()(),e.TgZ(30,"mat-paginator",7),e.NdJ("page",function(c){return a.cambiarPagina(c)}),e.qZA()(),e.TgZ(31,"app-filter-modal",8),e.NdJ("registrosFiltrados",function(c){return a.items=c}),e.qZA()),2&t&&(e.xp6(28),e.Q6J("ngForOf",e.Dn7(29,4,a.items,a.start,a.end)),e.xp6(2),e.Q6J("length",a.items.length)("pageSize",a.pageSize)("pageSizeOptions",e.DdM(8,ne)))},directives:[g.S,m.sg,Z.rH,G.NW,W],pipes:[m.OU,m.uU],styles:[".container[_ngcontent-%COMP%]{overflow-x:auto}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:left}.modal-backdrop[_ngcontent-%COMP%]{z-index:0!important}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:99999999999!important}"]}),n})()},{path:"enrolled/:id",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-enrolled-page"]],decls:2,vars:0,template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"user-enrolled-page works!"),e.qZA())},styles:[""]}),n})()},{path:"**",redirectTo:"enroll"}];let ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(oe)],Z.Bz]}),n})();var re=l(4466),ie=l(7939);let le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,ae,re.m,ie.s,o.u5,o.UX]]}),n})()},1492:(S,h)=>{function m(o){return"string"==typeof o?o.replace(/^0+|[^0-9kK]+/g,"").toUpperCase():""}h.fW=h.NT=void 0,h.NT=m,h.fW=function Z(o){if(/^0+/.test(o)||!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(o))return!1;for(var e=m(o),s=parseInt(e.slice(0,-1),10),d=e.slice(-1),T=0,g=1;s;s=Math.floor(s/10))g=(g+s%10*(9-T++%6))%11;return(g?g-1:"K").toString()===d}}}]);